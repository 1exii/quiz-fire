<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Fire - Quiz</title>
    <link rel="stylesheet" href="quiz.css">
</head>

<body>
    <div class="app-container">
        <div class="left-panel">
            <div class="panel-header">
                <h1 id="quiz-title">Loading Quiz...</h1>
                <div class="quiz-meta">
                    <span id="question-count">0 questions</span>
                    <span class="separator">•</span>
                    <span id="difficulty">Medium</span>
                </div>
            </div>

            <div class="questions-nav" id="questions-nav">
                <div class="question-list" id="question-list">
                    <!-- question numbers inserted here -->
                </div>
            </div>

            <div class="results-summary hidden" id="results-summary">
                <div class="summary-header">
                    <h2>Quiz Summary</h2>
                    <div class="score-circle">
                        <span id="summary-score">0%</span>
                    </div>
                </div>
                <div class="summary-stats">
                    <div class="stat-item">
                        <span class="stat-label">Correct</span>
                        <span class="stat-value correct" id="summary-correct">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Incorrect</span>
                        <span class="stat-value incorrect" id="summary-incorrect">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Time Used</span>
                        <span class="stat-value" id="summary-time">0:00</span>
                    </div>
                </div>
                <div class="summary-actions">
                    <button id="restart-from-summary" class="btn primary">Restart Quiz</button>
                    <button id="export-from-summary" class="btn secondary">Export Results</button>
                </div>
            </div>

            <div class="progress-section">
                <div class="timer-section">
                    <div id="timer-container" class="timer-container hidden">
                        <span class="timer-icon">⏱️</span>
                        <span id="timer-display" class="timer-display">00:00</span>
                    </div>
                </div>

                <div class="progress-bar-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                
                <button id="submit-quiz" class="btn primary finish-quiz-btn">Submit Quiz</button>
            </div>
        </div>

        <div class="right-panel">
            <div id="loading" class="loading-container">
                <div class="spinner"></div>
                <p>Loading your quiz...</p>
            </div>

            <div id="quiz-content" class="content hidden">
                <div id="quiz-intro" class="quiz-section">
                    <p>This quiz was generated based on the content you selected. Answer the questions to test your
                        understanding. This test was generated by AI, make sure to fact check answers when reviewing. 
                        Do not use this as an official source.</p>
                    <button id="start-quiz-btn" class="btn primary">Start Quiz</button>
                </div>

                <div id="questions-container" class="quiz-section hidden">
                    <div id="question-display">
                        <!-- questions inserted here -->
                    </div>

                    <div class="navigation-buttons">
                        <button id="prev-btn" class="btn secondary">Previous</button>
                        <button id="next-btn" class="btn primary">Next</button>
                    </div>
                </div>

                <div id="results-container" class="quiz-section hidden">
                    <div class="results-details">
                        <div id="results-breakdown">
                            <!-- Results will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>

            <div id="error-container" class="error-container hidden">
                <div class="error-icon">❌</div>
                <h2>Error Loading Quiz</h2>
                <p id="error-message">There was a problem loading the quiz. Please try again.</p>
                <button id="retry-btn" class="btn primary">Try Again</button>
            </div>
        </div>
    </div>

    <template id="multiple-choice-template">
        <div class="question multiple-choice">
            <h3 class="question-text"></h3>
            <div class="options-container">
                <!-- options inserted here -->
            </div>
            <div class="explanation hidden">
                <h4>Explanation:</h4>
                <p class="explanation-text"></p>
            </div>
        </div>
    </template>

    <template id="true-false-template">
        <div class="question true-false">
            <h3 class="question-text"></h3>
            <div class="options-container">
                <!-- options inserted here -->
            </div>
            <div class="explanation hidden">
                <h4>Explanation:</h4>
                <p class="explanation-text"></p>
            </div>
        </div>
    </template>

    <template id="short-answer-template">
        <div class="question short-answer">
            <h3 class="question-text"></h3>
            <div class="answer-container">
                <input type="text" class="short-answer-input" placeholder="Type your answer here">
            </div>
            <div class="explanation hidden">
                <h4>Explanation:</h4>
                <p class="explanation-text"></p>
            </div>
        </div>
    </template>

    <template id="result-item-template">
        <div class="result-item">
            <div class="result-header">
                <span class="question-number"></span>
                <span class="result-status"></span>
            </div>
            <div class="result-content">
                <p class="question-text"></p>
                <div class="answer-details">
                    <p class="your-answer"></p>
                    <p class="correct-answer"></p>
                </div>
                <div class="explanation">
                    <p class="explanation-text"></p>
                </div>
            </div>
        </div>
    </template>

    <script src="quiz.js"></script>
</body>

</html>